<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Menu Bonus</title>
<style>
canvas{
	border:2px black solid;
	background-color:rgb(228, 202, 27);
	margin:auto;
	display:block;
}

</style>
</head>

<body>

<canvas id="monCanvas"></canvas>

<script>

var canvas=document.getElementById("monCanvas")
var ctx=canvas.getContext("2d")
var bckMusic=new Audio()
bckMusic.src="altTheme.mp3"
canvas.width=600
canvas.height=300
var keyDown={}
var mario=new Image()
mario.src="mario.png"
var drawMario={
    x:250,
    y:117,
    w:100,
    h:100,
}

document.addEventListener("keydown", function(e){
    keyDown[e.keyCode]=true
    console.log(keyDown)
})

document.addEventListener("keyup", function(e){
    delete keyDown[e.keyCode]
    console.log(keyDown)
})

function message(){
    ctx.font="12px Verdana"
    ctx.fillStyle='black'
    ctx.fillText("Bravo! Vous avez complété le bonus avec brio!!! :D",140,60)
    ctx.fillText("Fun fact: le petit trou de souris que vous avez dû passer entre avait une hauteur de 53 px,",12,75)
    ctx.fillText("ce qui est 3 px de plus que la grandeur de mario.",170,90)
    ctx.fillText("(Tips: cliquez n'importe où pour entendre une musique mystère!)",100,250)
    ctx.fillText("Cliquez sur la touche entrée pour retourner au menu!!!", 130,265)
}

function draw(){
    ctx.drawImage(mario, drawMario.x, drawMario.y, drawMario.w, drawMario.h,)
}

function checkEnter(){
    if (13 in keyDown){
        window.location.href="menu.html"
    }
}

function playMusic(){
    bckMusic.play()
}

function gameLoop(){
    ctx.clearRect(0,0,canvas.width,canvas.height)
	requestAnimationFrame(gameLoop)
    message()
    draw()
    playMusic()
    checkEnter()
	}
gameLoop()

</script>
</body>
</html>
